# ğŸ”„ Fluxo de ExecuÃ§Ã£o - Arquitetura Desacoplada

## Diagrama de SequÃªncia - InicializaÃ§Ã£o

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚index.ts â”‚    â”‚SensorControl.â”‚    â”‚ISensorBoard â”‚    â”‚IDataPublisherâ”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                â”‚                    â”‚                   â”‚
     â”‚ 1. new VirtualBoard()               â”‚                   â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚
     â”‚                                     â”‚                   â”‚
     â”‚ 2. new FirebaseClient()             â”‚                   â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                                     â”‚                   â”‚
     â”‚ 3. new SensorController(board, publisher)              â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                    â”‚                   â”‚
     â”‚                â”‚                    â”‚                   â”‚
     â”‚ 4. controller.start()               â”‚                   â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                    â”‚                   â”‚
     â”‚                â”‚                    â”‚                   â”‚
     â”‚                â”‚ 5. initialize()    â”‚                   â”‚
     â”‚                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚
     â”‚                â”‚                    â”‚                   â”‚
     â”‚                â”‚ 6. testConnection()â”‚                   â”‚
     â”‚                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                â”‚                    â”‚                   â”‚
     â”‚                â”‚ 7. startPeriodicSending()              â”‚
     â”‚                â”‚                    â”‚                   â”‚
     â”‚                â”‚ 8. listenToCommands()                  â”‚
     â”‚                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                â”‚                    â”‚                   â”‚
```

## Diagrama de SequÃªncia - Leitura e Envio de Dados

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚SensorControl.â”‚    â”‚ISensorBoard â”‚    â”‚IDataPublisherâ”‚    â”‚Firebase â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
       â”‚                   â”‚                   â”‚                 â”‚
       â”‚ [Timer] sendData()â”‚                   â”‚                 â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚                   â”‚                 â”‚
       â”‚          â”‚        â”‚                   â”‚                 â”‚
       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚                   â”‚                 â”‚
       â”‚                   â”‚                   â”‚                 â”‚
       â”‚ readAllSensors()  â”‚                   â”‚                 â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚                 â”‚
       â”‚                   â”‚                   â”‚                 â”‚
       â”‚     readings      â”‚                   â”‚                 â”‚
       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                 â”‚
       â”‚                   â”‚                   â”‚                 â”‚
       â”‚ buildPayload()    â”‚                   â”‚                 â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚                   â”‚                 â”‚
       â”‚          â”‚        â”‚                   â”‚                 â”‚
       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚                   â”‚                 â”‚
       â”‚                   â”‚                   â”‚                 â”‚
       â”‚ sendSensorData(payload)               â”‚                 â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                 â”‚
       â”‚                   â”‚                   â”‚                 â”‚
       â”‚                   â”‚                   â”‚ set('/agro/...')â”‚
       â”‚                   â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                   â”‚                   â”‚                 â”‚
       â”‚                   â”‚                   â”‚     OK          â”‚
       â”‚                   â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚                   â”‚                   â”‚                 â”‚
       â”‚                 OK                    â”‚                 â”‚
       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
       â”‚                   â”‚                   â”‚                 â”‚
       â”‚ console.log()     â”‚                   â”‚                 â”‚
       â”‚                   â”‚                   â”‚                 â”‚
```

## Diagrama de SequÃªncia - Comando do App

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Firebase â”‚    â”‚IDataPublisherâ”‚    â”‚SensorControl.â”‚    â”‚     CLI      â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                â”‚                    â”‚                   â”‚
     â”‚ /comandos changed                   â”‚                   â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                    â”‚                   â”‚
     â”‚                â”‚                    â”‚                   â”‚
     â”‚                â”‚ onCommand(callback)â”‚                   â”‚
     â”‚                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚
     â”‚                â”‚                    â”‚                   â”‚
     â”‚                â”‚                    â”‚ forcePanelState() â”‚
     â”‚                â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
     â”‚                â”‚                    â”‚                   â”‚
     â”‚   set()        â”‚                    â”‚                   â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚                   â”‚
     â”‚                â”‚                    â”‚                   â”‚
     â”‚                â”‚                    â”‚  prompt()         â”‚
     â”‚                â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                â”‚                    â”‚                   â”‚
```

## Diagrama de SequÃªncia - Comando CLI

```
â”Œâ”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚User â”‚    â”‚     CLI     â”‚    â”‚SensorControl.â”‚    â”‚ISensorBoard â”‚
â””â”€â”€â”¬â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
   â”‚              â”‚                   â”‚                   â”‚
   â”‚ "temp 35"    â”‚                   â”‚                   â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚                   â”‚
   â”‚              â”‚                   â”‚                   â”‚
   â”‚              â”‚ setSensorValue("temperatura", 35)     â”‚
   â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚
   â”‚              â”‚                   â”‚                   â”‚
   â”‚              â”‚                   â”‚ setSensorValue()  â”‚
   â”‚              â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚              â”‚                   â”‚                   â”‚
   â”‚              â”‚                   â”‚      OK           â”‚
   â”‚              â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚              â”‚                   â”‚                   â”‚
   â”‚              â”‚         OK        â”‚                   â”‚
   â”‚              â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
   â”‚              â”‚                   â”‚                   â”‚
   â”‚              â”‚ getSensorInfo()   â”‚                   â”‚
   â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚
   â”‚              â”‚                   â”‚                   â”‚
   â”‚              â”‚                   â”‚ getSensorInfo()   â”‚
   â”‚              â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚              â”‚                   â”‚                   â”‚
   â”‚              â”‚                   â”‚   { isManual, value }
   â”‚              â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚              â”‚                   â”‚                   â”‚
   â”‚              â”‚  { isManual, value }                  â”‚
   â”‚              â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
   â”‚              â”‚                   â”‚                   â”‚
   â”‚  [OK] temperatura = 35Â°C (ALERTA) [MANUAL]           â”‚
   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                   â”‚
   â”‚              â”‚                   â”‚                   â”‚
```

## Fluxo de Dados - VisÃ£o Geral

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Camada de Entrada                        â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ CLI (User)   â”‚              â”‚Firebase (App)â”‚            â”‚
â”‚  â”‚ - Manual     â”‚              â”‚ - Comandos   â”‚            â”‚
â”‚  â”‚ - Comandos   â”‚              â”‚              â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                              â”‚
          â–¼                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Camada de Controle                          â”‚
â”‚                                                              â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚              â”‚   SensorController       â”‚                   â”‚
â”‚              â”‚  - Orquestra tudo        â”‚                   â”‚
â”‚              â”‚  - LÃ³gica de negÃ³cio     â”‚                   â”‚
â”‚              â”‚  - Consolida status      â”‚                   â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Camada de Sensores    â”‚         â”‚  Camada de PublicaÃ§Ã£o  â”‚
â”‚                        â”‚         â”‚                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ISensorBoard    â”‚  â”‚         â”‚  â”‚ IDataPublisher   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚            â”‚           â”‚         â”‚            â”‚           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  VirtualBoard    â”‚  â”‚         â”‚  â”‚ FirebaseClient   â”‚  â”‚
â”‚  â”‚  - SimulaÃ§Ã£o     â”‚  â”‚         â”‚  â”‚ - Realtime DB    â”‚  â”‚
â”‚  â”‚  - SensorManager â”‚  â”‚         â”‚  â”‚ - Auth           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                        â”‚         â”‚                        â”‚
â”‚  [Futuro]              â”‚         â”‚  [Futuro]              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  RealBoard       â”‚  â”‚         â”‚  â”‚ MqttPublisher    â”‚  â”‚
â”‚  â”‚  - Arduino fÃ­sicoâ”‚  â”‚         â”‚  â”‚ - MQTT Broker    â”‚  â”‚
â”‚  â”‚  - johnny-five   â”‚  â”‚         â”‚  â”‚                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Ciclo de Vida Completo

```
1. [InicializaÃ§Ã£o]
   index.ts
   â”œâ”€> Cria VirtualBoard (ou RealBoard)
   â”œâ”€> Cria FirebaseClient (ou MqttPublisher)
   â””â”€> Cria SensorController(board, publisher)

2. [Start do Controller]
   SensorController.start()
   â”œâ”€> board.initialize()
   â”œâ”€> publisher.testConnection()
   â”œâ”€> cli.start()
   â”œâ”€> startPeriodicSending()
   â””â”€> listenToCommands()

3. [Loop Principal - Timer]
   Cada 5 segundos:
   â”œâ”€> board.readAllSensors()
   â”œâ”€> buildPayload()
   â”œâ”€> publisher.sendSensorData()
   â””â”€> console.log()

4. [Eventos AssÃ­ncronos]
   
   A) Comando do UsuÃ¡rio (CLI):
      CLI input
      â””â”€> controller.setSensorValue()
          â””â”€> board.setSensorValue()
   
   B) Comando do App (Firebase):
      Firebase onChange
      â””â”€> publisher.onCommand(callback)
          â””â”€> controller receives command
              â””â”€> publisher.forcePanelState()

5. [Shutdown]
   SIGINT/SIGTERM
   â””â”€> controller.stop()
       â””â”€> clearInterval()
```

## Pontos de ExtensÃ£o

### 1. Adicionar novo tipo de Board
```typescript
// src/sensors/BluetoothBoard.ts
export class BluetoothBoard implements ISensorBoard {
  // Implementa leitura via Bluetooth
}

// index.ts
const board = new BluetoothBoard();  // SÃ³ muda esta linha!
```

### 2. Adicionar novo Publisher
```typescript
// src/publishers/WebSocketPublisher.ts
export class WebSocketPublisher implements IDataPublisher {
  // Implementa publicaÃ§Ã£o via WebSocket
}

// index.ts
const publisher = new WebSocketPublisher();  // SÃ³ muda esta linha!
```

### 3. Adicionar novo Sensor
```typescript
// config.ts
sensors: {
  // ... existentes
  co2: {
    min: 300, max: 5000,
    okMin: 400, okMax: 1000,
    unidade: 'ppm'
  }
}

// Controller jÃ¡ lÃª automaticamente!
// Firebase jÃ¡ envia automaticamente!
```

## Vantagens da Arquitetura

### âœ… Desacoplamento
- Cada camada nÃ£o conhece detalhes de implementaÃ§Ã£o da outra
- Interfaces definem contratos claros
- FÃ¡cil trocar implementaÃ§Ãµes

### âœ… Testabilidade
```typescript
// Teste unitÃ¡rio do Controller
const mockBoard = createMock<ISensorBoard>();
const mockPublisher = createMock<IDataPublisher>();
const controller = new SensorController(mockBoard, mockPublisher);

// Testa apenas a lÃ³gica do controller!
```

### âœ… Manutenibilidade
- CÃ³digo organizado em camadas
- Responsabilidades bem definidas
- FÃ¡cil localizar e corrigir bugs

### âœ… Extensibilidade
- Adiciona novas features sem modificar cÃ³digo existente
- Open/Closed Principle
- Crescimento sustentÃ¡vel do projeto

---

**VersÃ£o**: 2.0.0  
**Arquitetura**: Layered + Dependency Injection  
**PadrÃµes**: SOLID, Clean Architecture, Interface Segregation
